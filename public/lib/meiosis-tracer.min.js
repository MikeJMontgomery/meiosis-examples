!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.meiosisTracer=t():e.meiosisTracer=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";var n=r(1);e.exports=n.meiosisTracer},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.meiosisTracer=void 0;var n=r(2),a=r(3),i=r(5);window.__MEIOSIS_TRACER_GLOBAL_HOOK__=!0;var c=function(e){var t=e.selector,r=e.renderModel,c=e.horizontal,o=(0,i.createReceiveValues)(n.tracerModel,a.tracerView);return r=r||function(e,t){window.postMessage({type:"MEIOSIS_RENDER_MODEL",model:e,sendValuesBack:t},"*")},(0,a.initialView)(t,n.tracerModel,r,c),window.addEventListener("message",function(e){"MEIOSIS_VALUES"===e.data.type&&o(e.data.values,e.data.update)}),window.postMessage({type:"MEIOSIS_TRACER_INIT"},"*"),{receiveValues:o,reset:function(){return(0,a.reset)(n.tracerModel)}}};t.meiosisTracer=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={tracerStates:[],tracerIndex:0};t.tracerModel=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.reset=t.tracerView=t.initialView=void 0;var a=r(4),i=n(a),c={type:"space",size:2},o="tracerContainer",s="streamContainer",d="tracerSlider",u="tracerToggle",l="tracerReset",v="tracerIndex",f="tracerModel",p="errorMessage",y=null,g=null,m=function(e,t){var r=document.getElementById(d);r.setAttribute("max",String(t.tracerStates.length-1)),r.value=String(t.tracerIndex);var n=document.getElementById(v);n.innerHTML=String(t.tracerIndex);var a=document.getElementById(f);a.value=(0,i.default)(e[0].value,c);var o=document.querySelectorAll("div.stream");if(0===o.length){for(var u="",l=1,p=e.length;l<p;l++)u+="<div class='stream'><textarea rows='5' cols='40'></textarea></div>";document.getElementById(s).innerHTML=u}var y=document.querySelectorAll("div.stream textarea");for(l=1,p=e.length;l<p;l++)y[l-1].value=(0,i.default)(e[l].value,c)},S=function(e,t){return function(r){var n=parseInt(r.target.value,10),a=t.tracerStates[n];t.tracerIndex=n;var i=a[0].value;e(i,!1),m(a,t)}},I=function(e){return function(t){try{var r=JSON.parse(t.target.value);e(r,!0),y.style.display="none"}catch(e){y.style.display="block"}}},x=function(e){return function(t){var r=t.target;"none"===e.style.display?(e.style.display="block",r.innerHTML="Hide"):(e.style.display="none",r.innerHTML="Show")}},E=function(e){return function(){h(e)}},h=function(e){var t=e.tracerStates[e.tracerStates.length-1];e.tracerStates.length=1,e.tracerStates[0]=t,e.tracerIndex=0,m(t,e)},M=function(e,t,r,n){var a=document.querySelector(e);if(a){g=n?" style='float: left'":"";var i="<div style='text-align: right'><button id='"+u+"'>Hide</button></div><div id='"+o+"'><div style='text-align: right'><button id='"+l+"'>Reset</button></div><input id='"+d+"' type='range' min='0' max='"+String(t.tracerStates.length-1)+"' value='"+String(t.tracerIndex)+"' style='width: 100%'/><div id='"+v+"'>"+String(t.tracerIndex)+"</div><div"+g+"><div>Model: (you can type into this box)</div><textarea id='"+f+"' rows='5' cols='40'></textarea><div id='"+p+"' style='display: none'><span style='color:red'>Invalid JSON</span></div></div><span id='"+s+"'></span></div>";a.innerHTML=i;var c=document.getElementById(o);y=document.getElementById(p),document.getElementById(d).addEventListener("input",S(r,t)),document.getElementById(f).addEventListener("keyup",I(r)),document.getElementById(u).addEventListener("click",x(c)),document.getElementById(l).addEventListener("click",E(t))}};t.initialView=M,t.tracerView=m,t.reset=h},function(e,t){function r(e,t){n=[];var r="",a=0;e=e.replace(/\\./g,c).replace(/(".*?"|'.*?')/g,c).replace(/\s+/,"");for(var i=0;i<e.length;i++){var d=e.charAt(i);switch(d){case"{":case"[":r+=d+"\n"+s(++a,t);break;case"}":case"]":r+="\n"+s(--a,t)+d;break;case",":r+=",\n"+s(a,t);break;case":":r+=": ";break;default:r+=d}}return r=r.replace(/\[[\d,\s]+?\]/g,function(e){return e.replace(/\s/g,"")}).replace(/\\(\d+)\\/g,o).replace(/\\(\d+)\\/g,o)}var n=[],a={tab:{char:"\t",size:1},space:{char:" ",size:4}},i={type:"tab"},c=function(e){return"\\"+n.push(e)+"\\"},o=function(e,t){return n[t-1]},s=function(e,t){return new Array(e+1).join(t)};e.exports=function(e,t){t=t||i;var n=a[t.type];if(null==n)throw new Error('Unrecognized ident type: "'+t.type+'"');var c=new Array((t.size||n.size)+1).join(n.char);return r(JSON.stringify(e),c)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return function(r,n){n&&(e.tracerStates.push(r),e.tracerIndex=e.tracerStates.length-1),t(r,e)}};t.createReceiveValues=r}])});
//# sourceMappingURL=meiosis-tracer.min.js.map