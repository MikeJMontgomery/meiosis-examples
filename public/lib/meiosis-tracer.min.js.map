{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///meiosis-tracer.min.js","webpack:///webpack/bootstrap cd24fa92b94b963d18c9","webpack:///./src/index.js","webpack:///./src/meiosis-tracer.js","webpack:///./src/model.js","webpack:///./src/view.js","webpack:///./~/json-format/index.js","webpack:///./src/receive.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_meiosisTracer","meiosisTracer","Object","defineProperty","value","undefined","_model","_view","_receive","window","_ref","selector","renderModel","horizontal","receiveValues","createReceiveValues","tracerModel","tracerView","model","sendValuesBack","postMessage","type","initialView","addEventListener","evt","data","values","update","reset","tracerStates","tracerIndex","_interopRequireDefault","obj","__esModule","default","_jsonFormat","_jsonFormat2","jsonFormatConfig","size","tracerContainerId","streamContainerId","tracerId","tracerToggleId","tracerResetId","tracerIndexId","tracerModelId","errorMessageId","errorMessage","divStyle","tracer","document","getElementById","setAttribute","String","length","innerHTML","tracerModelEl","streamValueDivs","querySelectorAll","streamValueDivsMarkup","i","t","streamTextareas","onSliderChange","index","parseInt","target","snapshot","onModelChange","JSON","parse","style","display","err","onToggle","tracerContainer","button","onReset","querySelector","viewHtml","JSONFormat","json","indentType","out","indent","replace","push","charAt","tabs","pop","indentConfig","tab","char","space","configDefault","count","Array","join","config","Error","stringify","view"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,IACA,kBAAAG,gBAAAC,IACAD,UAAAH,GACA,gBAAAC,SACAA,QAAA,cAAAD,IAEAD,EAAA,cAAAC,KACCK,KAAA,WACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAP,OAGA,IAAAC,GAAAO,EAAAD,IACAP,WACAS,GAAAF,EACAG,QAAA,EAUA,OANAL,GAAAE,GAAAI,KAAAV,EAAAD,QAAAC,IAAAD,QAAAM,GAGAL,EAAAS,QAAA,EAGAT,EAAAD,QAvBA,GAAAQ,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,GAGAR,EAAA,KDgBM,SAASL,EAAQD,EAASM,GAE/B,YExDD,IAAAS,GAAAT,EAAA,EAEAL,GAAOD,QAAPe,EAAAC,eF8DM,SAASf,EAAQD,EAASM,GAE/B,YAEAW,QAAOC,eAAelB,EAAS,cAC7BmB,OAAO,IAETnB,EAAQgB,cAAgBI,MGvEzB,IAAAC,GAAAf,EAAA,GACAgB,EAAAhB,EAAA,GACAiB,EAAAjB,EAAA,EAEAkB,QAAA,gCAA2C,CAE3C,IAAMR,GAAgB,SAAAS,GAA2C,GAAxCC,GAAwCD,EAAxCC,SAAUC,EAA8BF,EAA9BE,YAAaC,EAAiBH,EAAjBG,WACxCC,GAAgB,EAAAN,EAAAO,qBAAAT,EAAAU,YAAAT,EAAAU,WActB,OAbAL,GAAcA,GAAgB,SAACM,EAAOC,GACpCV,OAAOW,aAAcC,KAAM,uBAAwBH,QAAOC,kBAAkB,OAE9E,EAAAZ,EAAAe,aAAYX,EAAZL,EAAAU,YAAmCJ,EAAaC,GAEhDJ,OAAOc,iBAAiB,UAAW,SAAAC,GACX,mBAAlBA,EAAIC,KAAKJ,MACXP,EAAcU,EAAIC,KAAKC,OAAQF,EAAIC,KAAKE,UAI5ClB,OAAOW,aAAcC,KAAM,uBAAyB,MAGlDP,gBACAc,MAAO,kBAAM,EAAArB,EAAAqB,OAAAtB,EAAAU,eHqFhB/B,GGjFQgB,iBHqFH,SAASf,EAAQD,GAEtB,YAEAiB,QAAOC,eAAelB,EAAS,cAC7BmB,OAAO,GIrHV,IAAMY,IACJa,gBACAC,YAAa,EJ0Hd7C,GIvHQ+B,eJ2HH,SAAS9B,EAAQD,EAASM,GAE/B,YAWA,SAASwC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GATvF9B,OAAOC,eAAelB,EAAS,cAC7BmB,OAAO,IAETnB,EAAQ2C,MAAQ3C,EAAQgC,WAAahC,EAAQqC,YAAcjB,MKvI5D,IAAA8B,GAAA5C,EAAA,GL2IK6C,EAAeL,EAAuBI,GKzIrCE,GACJhB,KAAM,QACNiB,KAAM,GAGFC,EAAoB,kBACpBC,EAAoB,kBACpBC,EAAW,eACXC,EAAiB,eACjBC,EAAgB,cAChBC,EAAgB,cAChBC,EAAgB,cAChBC,EAAiB,eACnBC,EAAe,KACfC,EAAW,KAET/B,EAAa,SAACS,EAAQV,GAC1B,GAAMiC,GAASC,SAASC,eAAeV,EACvCQ,GAAOG,aAAa,MAAOC,OAAOrC,EAAYa,aAAayB,OAAS,IACpEL,EAAO7C,MAAQiD,OAAOrC,EAAYc,YAElC,IAAMA,GAAcoB,SAASC,eAAeP,EAC5Cd,GAAYyB,UAAYF,OAAOrC,EAAYc,YAE3C,IAAM0B,GAAgBN,SAASC,eAAeN,EAC9CW,GAAcpD,OAAQ,EAAAgC,EAAAF,SAAWR,EAAO,GAAGtB,MAAOiC,EAElD,IAAIoB,GAAkBP,SAASQ,iBAAiB,aAEhD,IAA+B,IAA3BD,EAAgBH,OAAc,CAGhC,IAAK,GAFDK,GAAwB,GAEnBC,EAAI,EAAGC,EAAInC,EAAO4B,OAAQM,EAAIC,EAAGD,IACxCD,GACE,oEAIJT,UAASC,eAAeX,GAAmBe,UAAYI,EAGzD,GAAIG,GAAkBZ,SAASQ,iBAAiB,sBAEhD,KAAKE,EAAI,EAAGC,EAAInC,EAAO4B,OAAQM,EAAIC,EAAGD,IACpCE,EAAgBF,EAAI,GAAGxD,OAAQ,EAAAgC,EAAAF,SAAWR,EAAOkC,GAAGxD,MAAOiC,IAIzD0B,EAAiB,SAACnD,EAAaI,GAAd,MAA8B,UAAAQ,GACnD,GAAMwC,GAAQC,SAASzC,EAAI0C,OAAO9D,MAAO,IACnC+D,EAAWnD,EAAYa,aAAamC,EAC1ChD,GAAYc,YAAckC,CAC1B,IAAM9C,GAAQiD,EAAS,GAAG/D,KAC1BQ,GAAYM,GAAO,GACnBD,EAAWkD,EAAUnD,KAGjBoD,EAAgB,SAAAxD,GAAA,MAAe,UAAAY,GACnC,IACE,GAAMN,GAAQmD,KAAKC,MAAM9C,EAAI0C,OAAO9D,MACpCQ,GAAYM,GAAO,GACnB6B,EAAawB,MAAMC,QAAU,OAE/B,MAAOC,GACL1B,EAAawB,MAAMC,QAAU,WAI3BE,EAAW,SAAAC,GAAA,MAAmB,UAAAnD,GAClC,GAAMoD,GAASpD,EAAI0C,MAEmB,UAAlCS,EAAgBJ,MAAMC,SACxBG,EAAgBJ,MAAMC,QAAU,QAChCI,EAAOrB,UAAY,SAGnBoB,EAAgBJ,MAAMC,QAAU,OAChCI,EAAOrB,UAAY,UAIjBsB,EAAU,SAAA7D,GAAA,MAAe,YAC7BY,EAAMZ,KAGFY,EAAQ,SAACZ,GACb,GAAMmD,GAAWnD,EAAYa,aAAab,EAAYa,aAAayB,OAAS,EAC5EtC,GAAYa,aAAayB,OAAS,EAClCtC,EAAYa,aAAa,GAAKsC,EAC9BnD,EAAYc,YAAc,EAC1Bb,EAAWkD,EAAUnD,IAGjBM,EAAc,SAACX,EAAUK,EAAaJ,EAAaC,GACvD,GAAMqD,GAAShB,SAAS4B,cAAcnE,EAEtC,IAAIuD,EAAQ,CACVlB,EAAWnC,EAAa,uBAAyB,EAEjD,IAAMkE,GACJ,8CAAgDrC,EAAiB,iCACnDH,EAAoB,gDACgBI,EAAgB,oCAChDF,EAAW,+BACzBY,OAAOrC,EAAYa,aAAayB,OAAS,GACzC,YAAcD,OAAOrC,EAAYc,aAAe,mCACpCc,EAAgB,KAAOS,OAAOrC,EAAYc,aAAe,aAC9DkB,EAAW,gEAECH,EAAgB,4CACrBC,EAAiB,4FAElBN,EAAoB,iBAGvC0B,GAAOX,UAAYwB,CAEnB,IAAMJ,GAAkBzB,SAASC,eAAeZ,EAChDQ,GAAeG,SAASC,eAAeL,GAEvCI,SAASC,eAAeV,GAAUlB,iBAAiB,QAASwC,EAAenD,EAAaI,IACxFkC,SAASC,eAAeN,GAAetB,iBAAiB,QAAS6C,EAAcxD,IAC/EsC,SAASC,eAAeT,GAAgBnB,iBAAiB,QAASmD,EAASC,IAC3EzB,SAASC,eAAeR,GAAepB,iBAAiB,QAASsD,EAAQ7D,KLsI5E/B,GKlIQqC,cLmIRrC,EKnIqBgC,aLoIrBhC,EKpIiC2C,SLwI5B,SAAS1C,EAAQD,GMnPvB,QAAA+F,GAAAC,EAAAC,GACAnF,IACA,IAAAoF,GAAA,GACAC,EAAA,CAGAH,KACAI,QAAA,OAAAC,GACAD,QAAA,iBAAAC,GACAD,QAAA,SAGA,QAAAzB,GAAA,EAAiBA,EAAAqB,EAAA3B,OAAiBM,IAAA,CAClC,GAAA9D,GAAAmF,EAAAM,OAAA3B,EAEA,QAAA9D,GACA,QACA,QACAqF,GAAArF,EAAA,KAAA0F,IAAAJ,EAAAF,EACA,MACA,SACA,QACAC,GAAA,KAAAK,IAAAJ,EAAAF,GAAApF,CACA,MACA,SACAqF,GAAA,MAAAK,EAAAJ,EAAAF,EACA,MACA,SACAC,GAAA,IACA,MACA,SACAA,GAAArF,GAYA,MALAqF,KACAE,QAAA,0BAAAxF,GAA4C,MAAAA,GAAAwF,QAAA,YAC5CA,QAAA,aAAAI,GACAJ,QAAA,aAAAI,GArDA,GAAA1F,MACA2F,GACAC,KAAUC,KAAA,KAAAtD,KAAA,GACVuD,OAAYD,KAAA,IAAAtD,KAAA,IAEZwD,GACAzE,KAAA,OAEAiE,EAAA,SAAAzF,GAAwB,WAAAE,EAAAuF,KAAAzF,GAAA,MACxB4F,EAAA,SAAA5F,EAAA+D,GAA0B,MAAA7D,GAAA6D,EAAA,IAC1B4B,EAAA,SAAAO,EAAAb,GAAuC,UAAAc,OAAAD,EAAA,GAAAE,KAAAf,GAgDvChG,GAAAD,QAAA,SAAAgG,EAAAiB,GACAA,KAAAJ,CACA,IAAAV,GAAAM,EAAAQ,EAAA7E,KAEA,UAAA+D,EACA,SAAAe,OAAA,6BAAAD,EAAA7E,KAAA,IAEA,IAAA6D,GAAA,GAAAc,QAAAE,EAAA5D,MAAA8C,EAAA9C,MAAA,GAAA2D,KAAAb,EAAAQ,KACA,OAAAZ,GAAAX,KAAA+B,UAAAnB,GAAAC,KNiRM,SAAShG,EAAQD,GAEtB,YAEAiB,QAAOC,eAAelB,EAAS,cAC7BmB,OAAO,GOlWV,IAAMW,GAAsB,SAACC,EAAaqF,GAAd,MAAuB,UAAC3E,EAAQC,GACtDA,IACFX,EAAYa,aAAayD,KAAK5D,GAC9BV,EAAYc,YAAcd,EAAYa,aAAayB,OAAS,GAE9D+C,EAAK3E,EAAQV,IPyWd/B,GOtWQ8B","file":"meiosis-tracer.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"meiosisTracer\"] = factory();\n\telse\n\t\troot[\"meiosisTracer\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"meiosisTracer\"] = factory();\n\telse\n\t\troot[\"meiosisTracer\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _meiosisTracer = __webpack_require__(1);\n\t\n\tmodule.exports = _meiosisTracer.meiosisTracer;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.meiosisTracer = undefined;\n\t\n\tvar _model = __webpack_require__(2);\n\t\n\tvar _view = __webpack_require__(3);\n\t\n\tvar _receive = __webpack_require__(5);\n\t\n\twindow[\"__MEIOSIS_TRACER_GLOBAL_HOOK__\"] = true;\n\t\n\tvar meiosisTracer = function meiosisTracer(_ref) {\n\t  var selector = _ref.selector,\n\t      renderModel = _ref.renderModel,\n\t      horizontal = _ref.horizontal;\n\t\n\t  var receiveValues = (0, _receive.createReceiveValues)(_model.tracerModel, _view.tracerView);\n\t  renderModel = renderModel || function (model, sendValuesBack) {\n\t    window.postMessage({ type: \"MEIOSIS_RENDER_MODEL\", model: model, sendValuesBack: sendValuesBack }, \"*\");\n\t  };\n\t  (0, _view.initialView)(selector, _model.tracerModel, renderModel, horizontal);\n\t\n\t  window.addEventListener(\"message\", function (evt) {\n\t    if (evt.data.type === \"MEIOSIS_VALUES\") {\n\t      receiveValues(evt.data.values, evt.data.update);\n\t    }\n\t  });\n\t\n\t  window.postMessage({ type: \"MEIOSIS_TRACER_INIT\" }, \"*\");\n\t\n\t  return {\n\t    receiveValues: receiveValues,\n\t    reset: function reset() {\n\t      return (0, _view.reset)(_model.tracerModel);\n\t    }\n\t  };\n\t};\n\t\n\texports.meiosisTracer = meiosisTracer;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar tracerModel = {\n\t  tracerStates: [],\n\t  tracerIndex: 0\n\t};\n\t\n\texports.tracerModel = tracerModel;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.reset = exports.tracerView = exports.initialView = undefined;\n\t\n\tvar _jsonFormat = __webpack_require__(4);\n\t\n\tvar _jsonFormat2 = _interopRequireDefault(_jsonFormat);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar jsonFormatConfig = {\n\t  type: \"space\",\n\t  size: 2\n\t};\n\t\n\tvar tracerContainerId = \"tracerContainer\";\n\tvar streamContainerId = \"streamContainer\";\n\tvar tracerId = \"tracerSlider\";\n\tvar tracerToggleId = \"tracerToggle\";\n\tvar tracerResetId = \"tracerReset\";\n\tvar tracerIndexId = \"tracerIndex\";\n\tvar tracerModelId = \"tracerModel\";\n\tvar errorMessageId = \"errorMessage\";\n\tvar errorMessage = null;\n\tvar divStyle = null;\n\t\n\tvar tracerView = function tracerView(values, tracerModel) {\n\t  var tracer = document.getElementById(tracerId);\n\t  tracer.setAttribute(\"max\", String(tracerModel.tracerStates.length - 1));\n\t  tracer.value = String(tracerModel.tracerIndex);\n\t\n\t  var tracerIndex = document.getElementById(tracerIndexId);\n\t  tracerIndex.innerHTML = String(tracerModel.tracerIndex);\n\t\n\t  var tracerModelEl = document.getElementById(tracerModelId);\n\t  tracerModelEl.value = (0, _jsonFormat2.default)(values[0].value, jsonFormatConfig);\n\t\n\t  var streamValueDivs = document.querySelectorAll(\"div.stream\");\n\t\n\t  if (streamValueDivs.length === 0) {\n\t    var streamValueDivsMarkup = \"\";\n\t\n\t    for (var i = 1, t = values.length; i < t; i++) {\n\t      streamValueDivsMarkup += \"<div class='stream'>\" + \"<textarea rows='5' cols='40'></textarea>\" + \"</div>\";\n\t    }\n\t    document.getElementById(streamContainerId).innerHTML = streamValueDivsMarkup;\n\t  }\n\t\n\t  var streamTextareas = document.querySelectorAll(\"div.stream textarea\");\n\t\n\t  for (i = 1, t = values.length; i < t; i++) {\n\t    streamTextareas[i - 1].value = (0, _jsonFormat2.default)(values[i].value, jsonFormatConfig);\n\t  }\n\t};\n\t\n\tvar onSliderChange = function onSliderChange(renderModel, tracerModel) {\n\t  return function (evt) {\n\t    var index = parseInt(evt.target.value, 10);\n\t    var snapshot = tracerModel.tracerStates[index];\n\t    tracerModel.tracerIndex = index;\n\t    var model = snapshot[0].value;\n\t    renderModel(model, false);\n\t    tracerView(snapshot, tracerModel);\n\t  };\n\t};\n\t\n\tvar onModelChange = function onModelChange(renderModel) {\n\t  return function (evt) {\n\t    try {\n\t      var model = JSON.parse(evt.target.value);\n\t      renderModel(model, true);\n\t      errorMessage.style.display = \"none\";\n\t    } catch (err) {\n\t      errorMessage.style.display = \"block\";\n\t    }\n\t  };\n\t};\n\t\n\tvar onToggle = function onToggle(tracerContainer) {\n\t  return function (evt) {\n\t    var button = evt.target;\n\t\n\t    if (tracerContainer.style.display === \"none\") {\n\t      tracerContainer.style.display = \"block\";\n\t      button.innerHTML = \"Hide\";\n\t    } else {\n\t      tracerContainer.style.display = \"none\";\n\t      button.innerHTML = \"Show\";\n\t    }\n\t  };\n\t};\n\t\n\tvar onReset = function onReset(tracerModel) {\n\t  return function () {\n\t    reset(tracerModel);\n\t  };\n\t};\n\t\n\tvar reset = function reset(tracerModel) {\n\t  var snapshot = tracerModel.tracerStates[tracerModel.tracerStates.length - 1];\n\t  tracerModel.tracerStates.length = 1;\n\t  tracerModel.tracerStates[0] = snapshot;\n\t  tracerModel.tracerIndex = 0;\n\t  tracerView(snapshot, tracerModel);\n\t};\n\t\n\tvar initialView = function initialView(selector, tracerModel, renderModel, horizontal) {\n\t  var target = document.querySelector(selector);\n\t\n\t  if (target) {\n\t    divStyle = horizontal ? \" style='float: left'\" : \"\";\n\t\n\t    var viewHtml = \"<div style='text-align: right'><button id='\" + tracerToggleId + \"'>Hide</button></div>\" + \"<div id='\" + tracerContainerId + \"'>\" + \"<div style='text-align: right'><button id='\" + tracerResetId + \"'>Reset</button></div>\" + \"<input id='\" + tracerId + \"' type='range' min='0' max='\" + String(tracerModel.tracerStates.length - 1) + \"' value='\" + String(tracerModel.tracerIndex) + \"' style='width: 100%'/>\" + \"<div id='\" + tracerIndexId + \"'>\" + String(tracerModel.tracerIndex) + \"</div>\" + \"<div\" + divStyle + \">\" + \"<div>Model: (you can type into this box)</div>\" + \"<textarea id='\" + tracerModelId + \"' rows='5' cols='40'></textarea>\" + \"<div id='\" + errorMessageId + \"' style='display: none'><span style='color:red'>Invalid JSON</span></div>\" + \"</div>\" + \"<span id='\" + streamContainerId + \"'></span>\" + \"</div>\";\n\t\n\t    target.innerHTML = viewHtml;\n\t\n\t    var tracerContainer = document.getElementById(tracerContainerId);\n\t    errorMessage = document.getElementById(errorMessageId);\n\t\n\t    document.getElementById(tracerId).addEventListener(\"input\", onSliderChange(renderModel, tracerModel));\n\t    document.getElementById(tracerModelId).addEventListener(\"keyup\", onModelChange(renderModel));\n\t    document.getElementById(tracerToggleId).addEventListener(\"click\", onToggle(tracerContainer));\n\t    document.getElementById(tracerResetId).addEventListener(\"click\", onReset(tracerModel));\n\t  }\n\t};\n\t\n\texports.initialView = initialView;\n\texports.tracerView = tracerView;\n\texports.reset = reset;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t/*\n\t  change for npm modules.\n\t  by Luiz Estácio.\n\t\n\t  json-format v.1.1\n\t  http://github.com/phoboslab/json-format\n\t\n\t  Released under MIT license:\n\t  http://www.opensource.org/licenses/mit-license.php\n\t*/\n\tvar p = [],\n\t  indentConfig = {\n\t    tab: { char: '\\t', size: 1 },\n\t    space: { char: ' ', size: 4 }\n\t  },\n\t  configDefault = {\n\t    type: 'tab'\n\t  },\n\t  push = function( m ) { return '\\\\' + p.push( m ) + '\\\\'; },\n\t  pop = function( m, i ) { return p[i-1] },\n\t  tabs = function( count, indentType) { return new Array( count + 1 ).join( indentType ); };\n\t\n\tfunction JSONFormat ( json, indentType ) {\n\t  p = [];\n\t  var out = \"\",\n\t      indent = 0;\n\t\n\t  // Extract backslashes and strings\n\t  json = json\n\t    .replace( /\\\\./g, push )\n\t    .replace( /(\".*?\"|'.*?')/g, push )\n\t    .replace( /\\s+/, '' );    \n\t\n\t  // Indent and insert newlines\n\t  for( var i = 0; i < json.length; i++ ) {\n\t    var c = json.charAt(i);\n\t\n\t    switch(c) {\n\t      case '{':\n\t      case '[':\n\t        out += c + \"\\n\" + tabs(++indent, indentType);\n\t        break;\n\t      case '}':\n\t      case ']':\n\t        out += \"\\n\" + tabs(--indent, indentType) + c;\n\t        break;\n\t      case ',':\n\t        out += \",\\n\" + tabs(indent, indentType);\n\t        break;\n\t      case ':':\n\t        out += \": \";\n\t        break;\n\t      default:\n\t        out += c;\n\t        break;      \n\t    }         \n\t  }\n\t\n\t  // Strip whitespace from numeric arrays and put backslashes \n\t  // and strings back in\n\t  out = out\n\t    .replace( /\\[[\\d,\\s]+?\\]/g, function(m){ return m.replace(/\\s/g,''); } )\n\t    .replace( /\\\\(\\d+)\\\\/g, pop ) // strings\n\t    .replace( /\\\\(\\d+)\\\\/g, pop ); // backslashes in strings\n\t\n\t  return out;\n\t};\n\t\n\tmodule.exports = function(json, config){\n\t  config = config || configDefault;\n\t  var indent = indentConfig[config.type];\n\t\n\t  if ( indent == null ) {\n\t    throw new Error('Unrecognized ident type: \"' + config.type + '\"');\n\t  }\n\t  var indentType = new Array((config.size || indent.size) + 1).join(indent.char);\n\t  return JSONFormat(JSON.stringify(json), indentType);\n\t}\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar createReceiveValues = function createReceiveValues(tracerModel, view) {\n\t  return function (values, update) {\n\t    if (update) {\n\t      tracerModel.tracerStates.push(values);\n\t      tracerModel.tracerIndex = tracerModel.tracerStates.length - 1;\n\t    }\n\t    view(values, tracerModel);\n\t  };\n\t};\n\t\n\texports.createReceiveValues = createReceiveValues;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// meiosis-tracer.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cd24fa92b94b963d18c9","import { meiosisTracer } from \"./meiosis-tracer\";\n\nmodule.exports = meiosisTracer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { tracerModel } from \"./model\";\nimport { initialView, tracerView, reset } from \"./view\";\nimport { createReceiveValues } from \"./receive\";\n\nwindow[\"__MEIOSIS_TRACER_GLOBAL_HOOK__\"] = true;\n\nconst meiosisTracer = ({ selector, renderModel, horizontal }) => {\n  const receiveValues = createReceiveValues(tracerModel, tracerView);\n  renderModel = renderModel || ((model, sendValuesBack) => {\n    window.postMessage({ type: \"MEIOSIS_RENDER_MODEL\", model, sendValuesBack }, \"*\");\n  });\n  initialView(selector, tracerModel, renderModel, horizontal);\n\n  window.addEventListener(\"message\", evt => {\n    if (evt.data.type === \"MEIOSIS_VALUES\") {\n      receiveValues(evt.data.values, evt.data.update);\n    }\n  });\n\n  window.postMessage({ type: \"MEIOSIS_TRACER_INIT\" }, \"*\");\n\n  return {\n    receiveValues,\n    reset: () => reset(tracerModel)\n  };\n};\n\nexport { meiosisTracer };\n\n\n\n// WEBPACK FOOTER //\n// ./src/meiosis-tracer.js","const tracerModel = {\n  tracerStates: [],\n  tracerIndex: 0\n};\n\nexport { tracerModel };\n\n\n\n// WEBPACK FOOTER //\n// ./src/model.js","import jsonFormat from \"json-format\";\n\nconst jsonFormatConfig = {\n  type: \"space\",\n  size: 2\n};\n\nconst tracerContainerId = \"tracerContainer\";\nconst streamContainerId = \"streamContainer\";\nconst tracerId = \"tracerSlider\";\nconst tracerToggleId = \"tracerToggle\";\nconst tracerResetId = \"tracerReset\";\nconst tracerIndexId = \"tracerIndex\";\nconst tracerModelId = \"tracerModel\";\nconst errorMessageId = \"errorMessage\";\nlet errorMessage = null;\nlet divStyle = null;\n\nconst tracerView = (values, tracerModel) => {\n  const tracer = document.getElementById(tracerId);\n  tracer.setAttribute(\"max\", String(tracerModel.tracerStates.length - 1));\n  tracer.value = String(tracerModel.tracerIndex);\n\n  const tracerIndex = document.getElementById(tracerIndexId);\n  tracerIndex.innerHTML = String(tracerModel.tracerIndex);\n\n  const tracerModelEl = document.getElementById(tracerModelId);\n  tracerModelEl.value = jsonFormat(values[0].value, jsonFormatConfig);\n\n  var streamValueDivs = document.querySelectorAll(\"div.stream\");\n\n  if (streamValueDivs.length === 0) {\n    var streamValueDivsMarkup = \"\";\n\n    for (var i = 1, t = values.length; i < t; i++) {\n      streamValueDivsMarkup +=\n        \"<div class='stream'>\" +\n          \"<textarea rows='5' cols='40'></textarea>\" +\n        \"</div>\";\n    }\n    document.getElementById(streamContainerId).innerHTML = streamValueDivsMarkup;\n  }\n\n  var streamTextareas = document.querySelectorAll(\"div.stream textarea\");\n\n  for (i = 1, t = values.length; i < t; i++) {\n    streamTextareas[i - 1].value = jsonFormat(values[i].value, jsonFormatConfig);\n  }\n};\n\nconst onSliderChange = (renderModel, tracerModel) => evt => {\n  const index = parseInt(evt.target.value, 10);\n  const snapshot = tracerModel.tracerStates[index];\n  tracerModel.tracerIndex = index;\n  const model = snapshot[0].value;\n  renderModel(model, false);\n  tracerView(snapshot, tracerModel);\n};\n\nconst onModelChange = renderModel => evt => {\n  try {\n    const model = JSON.parse(evt.target.value);\n    renderModel(model, true);\n    errorMessage.style.display = \"none\";\n  }\n  catch (err) {\n    errorMessage.style.display = \"block\";\n  }\n};\n\nconst onToggle = tracerContainer => evt => {\n  const button = evt.target;\n\n  if (tracerContainer.style.display === \"none\") {\n    tracerContainer.style.display = \"block\";\n    button.innerHTML = \"Hide\";\n  }\n  else {\n    tracerContainer.style.display = \"none\";\n    button.innerHTML = \"Show\";\n  }\n};\n\nconst onReset = tracerModel => () => {\n  reset(tracerModel);\n};\n\nconst reset = (tracerModel) => {\n  const snapshot = tracerModel.tracerStates[tracerModel.tracerStates.length - 1];\n  tracerModel.tracerStates.length = 1;\n  tracerModel.tracerStates[0] = snapshot;\n  tracerModel.tracerIndex = 0;\n  tracerView(snapshot, tracerModel);\n};\n\nconst initialView = (selector, tracerModel, renderModel, horizontal) => {\n  const target = document.querySelector(selector);\n\n  if (target) {\n    divStyle = horizontal ? \" style='float: left'\" : \"\";\n\n    const viewHtml =\n      \"<div style='text-align: right'><button id='\" + tracerToggleId + \"'>Hide</button></div>\" +\n      \"<div id='\" + tracerContainerId + \"'>\" +\n        \"<div style='text-align: right'><button id='\" + tracerResetId + \"'>Reset</button></div>\" +\n        \"<input id='\" + tracerId + \"' type='range' min='0' max='\" +\n          String(tracerModel.tracerStates.length - 1) +\n          \"' value='\" + String(tracerModel.tracerIndex) + \"' style='width: 100%'/>\" +\n        \"<div id='\" + tracerIndexId + \"'>\" + String(tracerModel.tracerIndex) + \"</div>\" +\n        \"<div\" + divStyle + \">\" +\n          \"<div>Model: (you can type into this box)</div>\" +\n          \"<textarea id='\" + tracerModelId + \"' rows='5' cols='40'></textarea>\" +\n          \"<div id='\" + errorMessageId + \"' style='display: none'><span style='color:red'>Invalid JSON</span></div>\" +\n        \"</div>\" +\n        \"<span id='\" + streamContainerId + \"'></span>\" +\n      \"</div>\";\n\n    target.innerHTML = viewHtml;\n\n    const tracerContainer = document.getElementById(tracerContainerId);\n    errorMessage = document.getElementById(errorMessageId);\n\n    document.getElementById(tracerId).addEventListener(\"input\", onSliderChange(renderModel, tracerModel));\n    document.getElementById(tracerModelId).addEventListener(\"keyup\", onModelChange(renderModel));\n    document.getElementById(tracerToggleId).addEventListener(\"click\", onToggle(tracerContainer));\n    document.getElementById(tracerResetId).addEventListener(\"click\", onReset(tracerModel));\n  }\n};\n\nexport { initialView, tracerView, reset };\n\n\n\n// WEBPACK FOOTER //\n// ./src/view.js","/*\n  change for npm modules.\n  by Luiz Estácio.\n\n  json-format v.1.1\n  http://github.com/phoboslab/json-format\n\n  Released under MIT license:\n  http://www.opensource.org/licenses/mit-license.php\n*/\nvar p = [],\n  indentConfig = {\n    tab: { char: '\\t', size: 1 },\n    space: { char: ' ', size: 4 }\n  },\n  configDefault = {\n    type: 'tab'\n  },\n  push = function( m ) { return '\\\\' + p.push( m ) + '\\\\'; },\n  pop = function( m, i ) { return p[i-1] },\n  tabs = function( count, indentType) { return new Array( count + 1 ).join( indentType ); };\n\nfunction JSONFormat ( json, indentType ) {\n  p = [];\n  var out = \"\",\n      indent = 0;\n\n  // Extract backslashes and strings\n  json = json\n    .replace( /\\\\./g, push )\n    .replace( /(\".*?\"|'.*?')/g, push )\n    .replace( /\\s+/, '' );    \n\n  // Indent and insert newlines\n  for( var i = 0; i < json.length; i++ ) {\n    var c = json.charAt(i);\n\n    switch(c) {\n      case '{':\n      case '[':\n        out += c + \"\\n\" + tabs(++indent, indentType);\n        break;\n      case '}':\n      case ']':\n        out += \"\\n\" + tabs(--indent, indentType) + c;\n        break;\n      case ',':\n        out += \",\\n\" + tabs(indent, indentType);\n        break;\n      case ':':\n        out += \": \";\n        break;\n      default:\n        out += c;\n        break;      \n    }         \n  }\n\n  // Strip whitespace from numeric arrays and put backslashes \n  // and strings back in\n  out = out\n    .replace( /\\[[\\d,\\s]+?\\]/g, function(m){ return m.replace(/\\s/g,''); } )\n    .replace( /\\\\(\\d+)\\\\/g, pop ) // strings\n    .replace( /\\\\(\\d+)\\\\/g, pop ); // backslashes in strings\n\n  return out;\n};\n\nmodule.exports = function(json, config){\n  config = config || configDefault;\n  var indent = indentConfig[config.type];\n\n  if ( indent == null ) {\n    throw new Error('Unrecognized ident type: \"' + config.type + '\"');\n  }\n  var indentType = new Array((config.size || indent.size) + 1).join(indent.char);\n  return JSONFormat(JSON.stringify(json), indentType);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-format/index.js\n// module id = 4\n// module chunks = 0","const createReceiveValues = (tracerModel, view) => (values, update) => {\n  if (update) {\n    tracerModel.tracerStates.push(values);\n    tracerModel.tracerIndex = tracerModel.tracerStates.length - 1;\n  }\n  view(values, tracerModel);\n};\n\nexport { createReceiveValues };\n\n\n\n// WEBPACK FOOTER //\n// ./src/receive.js"],"sourceRoot":""}